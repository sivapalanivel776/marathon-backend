// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"

}

enum RaceCategory {
  KM_1_5
  KM_3
  KM_5
}


enum Gender {
  Male
  Female
  Others
}

enum PaymentStatus {
  PENDING
  PAID
  FAILED
}

model Registration {
  id                     String        @id @default(uuid())
  userId                 String?       @unique
  name                   String
  email                  String        @unique
  gender                 Gender
  dateOfBirth            DateTime
  age                    Int
  presentAddress         String
  mobileNumber           String        @unique
  medicalHistory         String?
  tshirtSize             String
  raceCategory           RaceCategory
  emergencyContactName   String
  emergencyContactMobile String
  waiverAccepted         Boolean
  amount                 Float
  paymentStatus          PaymentStatus @default(PENDING)
  razorpayOrderId        String?       @unique
  razorpayPaymentId      String?
  ticketId               String?       @unique
  emailSent              Boolean       @default(false)
  createdAt              DateTime      @default(now())
  updatedAt              DateTime      @updatedAt
}

model TempRegistration {
  id                     String        @id @default(uuid())
  userId                 String?
  name                   String
  email                  String
  gender                 Gender
  dateOfBirth            DateTime
  age                    Int
  presentAddress         String
  mobileNumber           String
  medicalHistory         String?
  tshirtSize             String
  raceCategory           RaceCategory
  emergencyContactName   String
  emergencyContactMobile String
  waiverAccepted         Boolean
  amount                 Float
  razorpayOrderId        String        @unique
  createdAt              DateTime      @default(now())
}

model Admin {
  id        String   @id @default(uuid())
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
